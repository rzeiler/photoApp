var myApp=angular.module("photoApp",["ngRoute","ngSanitize","ngAnimate"]);myApp.service("APIInterceptor",["$q","$location",function(b,c){var a=this;a.response=function(d){if(typeof d.data==="string"){if(d.data.indexOf('name="signForm"')>1){$("body").addClass("signForm")}else{$("body").removeClass("signForm")}}$(".button-collapse").sideNav("hide");var e=d.data.message;if(e){if(e=="unknown"){c.path("/signin")}}return d};a.responseError=function(d){Materialize.toast(d,4000);return d}}]);myApp.config(["$routeProvider","$httpProvider",function(a,b){a.when("/",{templateUrl:"views/album.html",controller:"albumController"}).when("/photo/:id/:newload?",{templateUrl:"views/photo.html",controller:"photoController"}).when("/:page/:id/edit/:pid",{templateUrl:"views/edit.html",controller:"editController"}).when("/user",{templateUrl:"views/user.html",controller:"userController"}).when("/show/:id/:pid",{templateUrl:"views/show.html",controller:"showController"}).when("/signin",{templateUrl:"views/signin.html",controller:"signinController"}).otherwise({templateUrl:"views/album.html",controller:"albumController"});b.interceptors.push("APIInterceptor");b.defaults={headers:{Accept:"application/json, text/plain","Content-Type":"application/json"},}}]);myApp.directive("loading",["$http","$q",function(b,a){return{restrict:"A",link:function(e,d,c){e.isLoading=function(){return b.pendingRequests.length>0};e.$watch(e.isLoading,function(f){if(f){d.removeClass("ng-hide")}else{d.addClass("ng-hide")}})}}}]);